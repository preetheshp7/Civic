<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help & Support - CivicConnect</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/help.css') }}">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-city"></i>
                    <span>CivicConnect</span>
                </div>
                <div class="nav-links">
                    <a href="/home-page">Home</a>
                    <a href="/nearbyissue">Nearby Issues</a>
                    <a href="/user-dashboard">Report-Issue</a>
                    <a href="#" class="active">Help</a>
                </div>
                <div class="user-actions">
                    {% if session.get("user_role") %}
                        <span style="font-weight:600; color:#2563eb;">
                            ðŸ‘¤ Logged in as {{ session.get("user_name", session.get("user_role")) }}
                        </span>

                        <a href="/logout" class="btn btn-outline" style="margin-left:10px;">
                            Logout
                        </a>
                    {% else %}
                        <a href="/login-page" class="btn btn-outline">Login</a>
                        <a href="/signup-page" class="btn btn-primary">Sign Up</a>
                    {% endif %}
                </div>

            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Help & Support Center</h1>
            <p>Find answers to common questions and learn how to use CivicConnect effectively</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Page Header -->
        <div class="page-header">
            <button class="back-btn" onclick="window.location.href='/home-page'">
                <i class="fas fa-chevron-left"></i>
                Back to Home
            </button>
            <i class="fas fa-question-circle"></i>
            <h2>How Can We Help You?</h2>
        </div>

        <div class="main-grid">
            <!-- Left Column: Main Content -->
            <div class="left-column">
                <!-- How to Report Section -->
                <div class="card">
                    <h2><i class="fas fa-flag"></i> How to Report an Issue</h2>
                    <div class="steps-container">
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Start a New Report</h4>
                                <p>Click on the "Report an Issue" button on the homepage or use the navigation menu to access the reporting form.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>Login or Sign Up</h4>
                                <p>Both citizens and officers must authenticate to submit or track reports. If you're new, you can create an account in less than a minute.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Provide Details</h4>
                                <p>Enter a clear title, detailed description, and upload at least one photo. The more specific you are, the faster we can address the issue.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h4>Add Location</h4>
                                <p>Enter the address manually or use our automatic location detection feature. Accurate location helps in faster resolution.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h4>Review & Submit</h4>
                                <p>Review all details and submit your report. You'll receive a unique Complaint ID for tracking purposes.</p>
                            </div>
                        </div>
                        <div class="step">
                            <div class="step-number">6</div>
                            <div class="step-content">
                                <h4>Track Your Report</h4>
                                <p>Use the "My Complaints" section in your dashboard to track the status of your report and receive updates.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Section -->
                <div class="card faq-section">
                    <h2><i class="fas fa-comments"></i> Frequently Asked Questions</h2>
                    <div class="faq-item active">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <i class="fas fa-chevron-down"></i>
                            <h4>Who can use CivicConnect?</h4>
                        </div>
                        <div class="faq-answer">
                            <p>CivicConnect is designed for both citizens and municipal officers. Citizens can report civic issues and track their complaints, while department officers use the officer portal to manage and resolve complaints efficiently.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <i class="fas fa-chevron-down"></i>
                            <h4>How many photos can I upload per report?</h4>
                        </div>
                        <div class="faq-answer">
                            <p>Currently, two photo is required per report. This ensures reports remain focused and improves processing speed. Make sure the photo clearly shows the issue for accurate classification and faster resolution.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <i class="fas fa-chevron-down"></i>
                            <h4>How are reports routed to departments?</h4>
                        </div>
                        <div class="faq-answer">
                            <p>Reports are automatically routed using AI-powered classification. The system analyzes the description and image to identify the most relevant department, ensuring your issue reaches the right team quickly.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <i class="fas fa-chevron-down"></i>
                            <h4>How do I get updates on my report?</h4>
                        </div>
                        <div class="faq-answer">
                            <p>You'll receive status updates linked to your Complaint ID. Visit the "My Complaints" section in your dashboard to view detailed updates, department responses, and estimated resolution times.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <i class="fas fa-chevron-down"></i>
                            <h4>What should I do if I forget my password?</h4>
                        </div>
                        <div class="faq-answer">
                            <p>Use the "Forgot password?" link on the login page. You'll receive an email with instructions to reset your password. Make sure to check your spam folder if you don't see the email in your inbox.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">
                            <i class="fas fa-chevron-down"></i>
                            <h4>How long does it take to resolve an issue?</h4>
                        </div>
                        <div class="faq-answer">
                            <p>Resolution time varies based on the issue type and severity. Simple issues like streetlight repairs may take 1-3 days, while complex issues like road repairs may take 1-2 weeks. You can track estimated resolution times in your dashboard.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Sidebar -->
            <div class="right-column">
                <!-- Contact Card -->
                <div class="contact-card">
                    <h3><i class="fas fa-headset"></i> Contact Support</h3>
                    <div class="contact-methods">
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Email Support</h4>
                                <p>civicconnect@gmail.com</p>
                            </div>
                        </div>
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Phone Support</h4>
                                <p>91+ 9876543210</p>
                            </div>
                        </div>
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Support Hours</h4>
                                <p>Mon-Fri: 8 AM - 5 PM<br>Sat-Sun: 9 AM - 3 PM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Links -->
                <div class="quick-links">
                    <h3><i class="fas fa-link"></i> Quick Links</h3>
                    <ul class="link-list">
                        <li>
                            <a href="/home-page">
                                <i class="fas fa-flag"></i>
                                Report an Issue
                            </a>
                        </li>
                        <li>
                            <a href="/user-dashboard">
                                <i class="fas fa-list-alt"></i>
                                My Complaints
                            </a>
                        </li>
                        <li>
                            <a href="/nearbyissue">
                                <i class="fas fa-map-marker-alt"></i>
                                Nearby Issues
                            </a>
                        </li>
                        <li>
                            <a href="/login-page">
                                <i class="fas fa-user-tie"></i>
                                Officer Login
                            </a>
                        </li>
                        <li>
                            <a href="/signup-page">
                                <i class="fas fa-user-plus"></i>
                                Create Account
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content" style="align-items:start;">
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="/home-page" onclick="showPage('report-page');return false;">Report an Issue</a></li>
                        <li><a href="/nearbyissue" >View Nearby Issues</a></li>
                        <li><a href="/help">Help / FAQ</a></li>
                        <li><a href="/signup-page">Sign Up</a></li>
                        <li><a href="/login-page">Login</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="footer-links">
                        <li><a href="tel:1800CITYHELP"><i class="fas fa-phone"></i> 91+ 9876543210</a></li>
                        <li><a href="mailto:support@civicconnect.gov"><i class="fas fa-envelope"></i> civicconnect@gmail.com</a></li>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> City Hall, 123 Government Plaza</a></li>
                    </ul>
                </div>
            </div>

            <div class="copyright" style="text-align:center;margin-top:1.25rem;">
                <p>&copy; 2023 CivicConnect. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // FAQ Toggle Functionality
        function toggleFAQ(element) {
            const faqItem = element.closest('.faq-item');
            faqItem.classList.toggle('active');
        }

        // User authentication functions
        function isUserLoggedIn() {
            return localStorage.getItem("cc_user_logged_in") === "true";
        }

        function updateUserActions() {
            const guest = document.getElementById('user-actions-guest');
            const auth = document.getElementById('user-actions-auth');
            const emailEl = document.getElementById('user-email');
            const profileBtn = document.getElementById('profile-btn');
            const logoutBtn = document.getElementById('logout-btn');

            if (isUserLoggedIn()) {
                guest.style.display = 'none';
                auth.style.display = 'flex';
                const email = localStorage.getItem('cc_user_email') || 'Account';
                emailEl.textContent = email;
                emailEl.onclick = goToDashboard;
                profileBtn.onclick = goToDashboard;
                logoutBtn.onclick = () => {
                    localStorage.removeItem('cc_user_logged_in');
                    localStorage.removeItem('cc_user_email');
                    localStorage.removeItem('cc_user_role');
                    localStorage.removeItem('cc_user_pincode');
                    localStorage.removeItem('cc_user_location');
                    updateUserActions();
                    window.location.href = '/home-page';
                };
            } else {
                guest.style.display = 'flex';
                auth.style.display = 'none';
                emailEl.textContent = '';
                if (profileBtn) profileBtn.onclick = null;
                if (logoutBtn) logoutBtn.onclick = null;
            }
        }

        function goToDashboard() {
            const role = localStorage.getItem('cc_user_role') || 'citizen';
            if (role === 'officer') {
                window.location.href = 'officedashbord.html';
            } else {
                window.location.href = '/user-dashboard';
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateUserActions();
            
            // Open first FAQ by default
            const firstFaq = document.querySelector('.faq-item');
            if (firstFaq) {
                firstFaq.classList.add('active');
            }
        });
    </script>
</body>
</html>